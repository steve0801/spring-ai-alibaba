=== Agents Tutorial Examples ===
注意：需要设置 AI_DASHSCOPE_API_KEY 环境变量


--- 示例1：基础模型配置 ---

--- 示例2：高级模型配置 ---

--- 示例3：工具使用 ---

--- 示例5：基础 System Prompt ---

--- 示例6：使用 instruction ---

--- 示例7：动态 System Prompt ---

--- 示例8：基础调用 ---
我目前无法获取实时天气信息。建议您通过可靠的天气预报网站或应用（如中国气象局、中央气象台、天气通、墨迹天气等）查询杭州当前的天气情况。通常这些平台会提供温度、湿度、风力、空气质量以及未来几天的天气趋势等详细信息。

如果您告诉我具体想了解的时间段（比如今天、明天或未来一周），我可以帮您分析一般情况下杭州那个时段的气候特点。

--- 示例9：获取完整状态 ---
完整状态：{"OverAllState":{"data":{"input":"帮我写一首诗","messages":[{"messageType":"USER","metadata":{"messageType":"USER"},"media":[],"text":"帮我写一首诗"},{"messageType":"ASSISTANT","metadata":{"search_info":"","role":"ASSISTANT","messageType":"ASSISTANT","finishReason":"STOP","id":"4fac813d-4144-4811-a0ff-9c3fc98478d9","reasoningContent":""},"toolCalls":[],"media":[],"text":"春风拂柳绿成行，  \n细雨轻沾花自香。  \n燕语呢喃穿旧巷，  \n蝶影翩跹过矮墙。  \n\n远山含黛云作裳，  \n流水潺潺入梦长。  \n不问人间纷扰事，  \n一壶清酒醉斜阳。"}]}}}

--- 示例10：使用配置 ---

--- 示例10.1：流式调用 - 基础用法 ---
节点: __START__
Agent: streaming_agent

--- 示例10.2：流式调用 - 高级用法 ---
处理中...
当前节点: model
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=1, totalTokens=16}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=3, totalTokens=18}
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=5, totalTokens=20}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=6, totalTokens=21}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=11, totalTokens=26}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=15, totalTokens=30}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=20, totalTokens=35}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=24, totalTokens=39}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=29, totalTokens=44}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=34, totalTokens=49}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=38, totalTokens=53}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=42, totalTokens=57}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=48, totalTokens=63}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=53, totalTokens=68}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=58, totalTokens=73}
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=62, totalTokens=77}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=66, totalTokens=81}
处理中...
当前节点: model
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=70, totalTokens=85}
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=74, totalTokens=89}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=78, totalTokens=93}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=82, totalTokens=97}
处理中...
当前节点: model
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=86, totalTokens=101}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=90, totalTokens=105}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=95, totalTokens=110}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=100, totalTokens=115}
处理中...
当前节点: model
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=103, totalTokens=118}
节点: model
Agent: streaming_agent
Token使用: DefaultUsage{promptTokens=15, completionTokens=103, totalTokens=118}
节点: __END__
Agent: streaming_agent
流式输出完成
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
处理中...
当前节点: model
所有节点处理完成

--- 示例10.3：流式调用 - 收集所有输出 ---
总共收到 246 个节点输出
最终状态: {"OverAllState":{"data":{"input":"分析机器学习的应用场景","messages":[{"messageType":"USER","metadata":{"messageType":"USER"},"media":[],"text":"分析机器学习的应用场景"},{"messageType":"ASSISTANT","metadata":{"search_info":"","role":"ASSISTANT","messageType":"ASSISTANT","finishReason":"STOP","id":"54b1fea9-c981-4580-9bc2-5a9358d1f584","reasoningContent":""},"toolCalls":[],"media":[],"text":"机器学习（Machine Learning, ML）作为人工智能的核心技术之一，已在众多领域展现出强大的应用潜力。它通过从数据中自动学习模式和规律，实现预测、分类、聚类、推荐等功能。以下是机器学习的主要应用场景分析：\n\n---\n\n### 1. **互联网与电子商务**\n- **个性化推荐系统**  \n  如电商网站（淘宝、京东）、视频平台（Netflix、YouTube）利用协同过滤、深度学习等算法为用户推荐商品或内容。\n- **搜索引擎优化**  \n  通过自然语言处理（NLP）和排序学习（Learning to Rank）提升搜索结果的相关性。\n- **广告投放与点击率预测**  \n  利用机器学习模型预测用户对广告的点击概率，实现精准营销。\n\n---\n\n### 2. **金融科技（FinTech）**\n- **信用评分与风控**  \n  基于用户历史行为、交易记录等数据构建信用评估模型，判断贷款违约风险。\n- **欺诈检测**  \n  使用异常检测算法识别信用卡盗刷、洗钱等异常交易行为。\n- **股票市场预测与量化交易**  \n  利用时间序列分析、强化学习等方法辅助投资决策（需注意市场不确定性）。\n\n---\n\n### 3. **医疗健康**\n- **疾病诊断与辅助决策**  \n  图像识别用于医学影像分析（如X光、CT、MRI），辅助医生诊断癌症、肺炎等疾病。\n- **基因组学与药物研发**  \n  分析基因序列数据，发现致病基因；加速新药分子筛选过程。\n- **健康监测与预测**  \n  可穿戴设备结合机器学习预测心律失常、糖尿病并发症等。\n\n---\n\n### 4. **智能制造与工业自动化**\n- **预测性维护（Predictive Maintenance）**  \n  分析传感器数据预测设备故障，减少停机时间和维修成本。\n- **质量控制**  \n  利用计算机视觉检测产品缺陷（如芯片、汽车零部件）。\n- **生产流程优化**  \n  通过强化学习或回归模型优化参数配置，提高生产效率。\n\n---\n\n### 5. **交通运输与自动驾驶**\n- **智能交通管理**  \n  预测交通流量、优化信号灯控制，缓解拥堵。\n- **自动驾驶**  \n  感知（目标检测、语义分割）、决策（路径规划）、控制（动作执行）均依赖深度学习与强化学习。\n- **路径规划与物流优化**  \n  快递配送路线优化、网约车调度等使用图神经网络或运筹学结合ML的方法。\n\n---\n\n### 6. **自然语言处理（NLP）**\n- **语音识别与合成**  \n  如Siri、小爱同学等智能助手背后的语音转文字、文字转语音技术。\n- **机器翻译**  \n  Google Translate、DeepL 等基于Transformer架构实现高质量翻译。\n- **情感分析与舆情监控**  \n  分析社交媒体评论、新闻文本中的情绪倾向，用于品牌管理或政策制定。\n\n---\n\n### 7. **教育科技（EdTech）**\n- **个性化学习路径推荐**  \n  根据学生的学习行为和成绩推荐适合的学习资源。\n- **智能阅卷与作业批改**  \n  自动批改选择题、填空题甚至作文（结合NLP）。\n- **学习效果预测**  \n  预测学生是否可能挂科，提前干预。\n\n---\n\n### 8. **农业与环境科学**\n- **精准农业**  \n  利用遥感图像和气象数据预测作物产量、病虫害风险。\n- **气候建模与灾害预警**  \n  分析气候变化趋势，预测洪水、干旱等自然灾害。\n- **土壤与水质分析**  \n  传感器数据结合模型评估土地适宜性或污染程度。\n\n---\n\n### 9. **安全与安防**\n- **人脸识别与身份验证**  \n  广泛应用于门禁系统、支付验证、公共安全监控。\n- **网络安全威胁检测**  \n  检测恶意软件、DDoS攻击、异常登录行为等。\n- **视频监控智能分析**  \n  行为识别（如跌倒、打架）、人群密度监测等。\n\n---\n\n### 10. **娱乐与创意产业**\n- **内容生成（AIGC）**  \n  文本生成（如ChatGPT）、图像生成（如Stable Diffusion）、音乐创作等。\n- **游戏AI**  \n  NPC智能行为设计、游戏平衡性调优、玩家行为预测。\n- **影视特效与后期制作**  \n  深度伪造（Deepfake）、自动剪辑、画质增强等。\n\n---\n\n## 总结：机器学习应用的关键特点\n\n| 特点 | 说明 |\n|------|------|\n| **数据驱动** | 所有应用都依赖大量高质量数据 |\n| **自动化决策** | 减少人工干预，提升效率 |\n| **可扩展性强** | 模型一旦训练完成，可快速部署到多个场景 |\n| **持续优化** | 支持在线学习，随时间不断改进性能 |\n\n---\n\n## 挑战与注意事项\n- 数据隐私与伦理问题（如人脸识别滥用）\n- 模型可解释性不足（“黑箱”问题）\n- 过拟合与泛化能力差\n- 对标注数据的依赖高\n- 计算资源消耗大\n\n---\n\n随着算法进步（如大模型、自监督学习）、算力提升和数据积累，机器学习的应用场景将持续拓展，逐步渗透到社会生活的方方面面，推动智能化转型。未来，跨学科融合（如生物+AI、法律+AI）将成为新的增长点。"}]}}}
最终回复: 机器学习（Machine Learning, ML）作为人工智能的核心技术之一，已在众多领域展现出强大的应用潜力。它通过从数据中自动学习模式和规律，实现预测、分类、聚类、推荐等功能。以下是机器学习的主要应用场景分析：

---

### 1. **互联网与电子商务**
- **个性化推荐系统**
  如电商网站（淘宝、京东）、视频平台（Netflix、YouTube）利用协同过滤、深度学习等算法为用户推荐商品或内容。
- **搜索引擎优化**
  通过自然语言处理（NLP）和排序学习（Learning to Rank）提升搜索结果的相关性。
- **广告投放与点击率预测**
  利用机器学习模型预测用户对广告的点击概率，实现精准营销。

---

### 2. **金融科技（FinTech）**
- **信用评分与风控**
  基于用户历史行为、交易记录等数据构建信用评估模型，判断贷款违约风险。
- **欺诈检测**
  使用异常检测算法识别信用卡盗刷、洗钱等异常交易行为。
- **股票市场预测与量化交易**
  利用时间序列分析、强化学习等方法辅助投资决策（需注意市场不确定性）。

---

### 3. **医疗健康**
- **疾病诊断与辅助决策**
  图像识别用于医学影像分析（如X光、CT、MRI），辅助医生诊断癌症、肺炎等疾病。
- **基因组学与药物研发**
  分析基因序列数据，发现致病基因；加速新药分子筛选过程。
- **健康监测与预测**
  可穿戴设备结合机器学习预测心律失常、糖尿病并发症等。

---

### 4. **智能制造与工业自动化**
- **预测性维护（Predictive Maintenance）**
  分析传感器数据预测设备故障，减少停机时间和维修成本。
- **质量控制**
  利用计算机视觉检测产品缺陷（如芯片、汽车零部件）。
- **生产流程优化**
  通过强化学习或回归模型优化参数配置，提高生产效率。

---

### 5. **交通运输与自动驾驶**
- **智能交通管理**
  预测交通流量、优化信号灯控制，缓解拥堵。
- **自动驾驶**
  感知（目标检测、语义分割）、决策（路径规划）、控制（动作执行）均依赖深度学习与强化学习。
- **路径规划与物流优化**
  快递配送路线优化、网约车调度等使用图神经网络或运筹学结合ML的方法。

---

### 6. **自然语言处理（NLP）**
- **语音识别与合成**
  如Siri、小爱同学等智能助手背后的语音转文字、文字转语音技术。
- **机器翻译**
  Google Translate、DeepL 等基于Transformer架构实现高质量翻译。
- **情感分析与舆情监控**
  分析社交媒体评论、新闻文本中的情绪倾向，用于品牌管理或政策制定。

---

### 7. **教育科技（EdTech）**
- **个性化学习路径推荐**
  根据学生的学习行为和成绩推荐适合的学习资源。
- **智能阅卷与作业批改**
  自动批改选择题、填空题甚至作文（结合NLP）。
- **学习效果预测**
  预测学生是否可能挂科，提前干预。

---

### 8. **农业与环境科学**
- **精准农业**
  利用遥感图像和气象数据预测作物产量、病虫害风险。
- **气候建模与灾害预警**
  分析气候变化趋势，预测洪水、干旱等自然灾害。
- **土壤与水质分析**
  传感器数据结合模型评估土地适宜性或污染程度。

---

### 9. **安全与安防**
- **人脸识别与身份验证**
  广泛应用于门禁系统、支付验证、公共安全监控。
- **网络安全威胁检测**
  检测恶意软件、DDoS攻击、异常登录行为等。
- **视频监控智能分析**
  行为识别（如跌倒、打架）、人群密度监测等。

---

### 10. **娱乐与创意产业**
- **内容生成（AIGC）**
  文本生成（如ChatGPT）、图像生成（如Stable Diffusion）、音乐创作等。
- **游戏AI**
  NPC智能行为设计、游戏平衡性调优、玩家行为预测。
- **影视特效与后期制作**
  深度伪造（Deepfake）、自动剪辑、画质增强等。

---

## 总结：机器学习应用的关键特点

| 特点 | 说明 |
|------|------|
| **数据驱动** | 所有应用都依赖大量高质量数据 |
| **自动化决策** | 减少人工干预，提升效率 |
| **可扩展性强** | 模型一旦训练完成，可快速部署到多个场景 |
| **持续优化** | 支持在线学习，随时间不断改进性能 |

---

## 挑战与注意事项
- 数据隐私与伦理问题（如人脸识别滥用）
- 模型可解释性不足（“黑箱”问题）
- 过拟合与泛化能力差
- 对标注数据的依赖高
- 计算资源消耗大

---

随着算法进步（如大模型、自监督学习）、算力提升和数据积累，机器学习的应用场景将持续拓展，逐步渗透到社会生活的方方面面，推动智能化转型。未来，跨学科融合（如生物+AI、法律+AI）将成为新的增长点。

--- 示例11：使用 outputType ---
{
  "content": "春风拂面柳轻摇，\n细雨润花影自娇。\n燕语呢喃穿翠幕，\n桃红李白满山腰。\n溪流欢唱冰初解，\n草色遥看近却寥。\n最是一年光好处，\n踏青何必远寻桥。",
  "style": "五言律诗",
  "title": "春日即景"
}

--- 示例12：使用 outputSchema ---

--- 示例13：配置记忆 ---

=== 所有示例执行完成 ===



